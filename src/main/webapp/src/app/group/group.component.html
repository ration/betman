<div id="group">
  <div *ngIf="group">
    <h3>{{group.name}}</h3>
    <div>Share this link to anyone you wish to join:</div>
    <div class="copylink">{{link}}</div>
    <p>


    <div id="nameBox" class="info-block">
      <form #nameForm="ngForm" (ngSubmit)="nameForm.form.valid && onSubmit()">
        <div class="input-group">
          <label class="col-sm-4 col-form-label" for="nameBox">Your name in this group </label>
          <input type="text" class="form-control" placeholder="Your name in this group" aria-label="Display name"
                 name="displayName" #name="ngModel" [(ngModel)]="userDisplayName" required
                 aria-describedby="basic-addon2">
          <div *ngIf="nameForm.submitted && !name.valid" class="invalid-feedback">Name is required</div>
          <div class="input-group-append">
            <input type="submit" class="btn btn-outline-secondary" value="Change">
          </div>
        </div>
      </form>
    </div>
    <form #groupEditForm="ngForm" (ngSubmit)="groupEditForm.form.valid && updateGroup()">
      <div id="scoring" class="info-block">
        <h3>Scoring</h3>
        <div class="row">
          <div class="col col-10">
            Points per correct amount of goals:
          </div>
          <div *ngIf="isAdmin()" class="col">
            <input title="Team goal points" class="col points" name="tealGoalPoints" [(ngModel)]="group.teamGoalPoints">
          </div>
          <div class="col" *ngIf="!isAdmin()">{{group.teamGoalPoints}}</div>
        </div>
        <div class="row">
          <div class="col col-10">
            Points if the score is exactly right:
          </div>
          <div *ngIf="isAdmin()" class="col">
            <input title="Exact score points" class="col points" name="exactScorePoints"
                   [(ngModel)]="group.exactScorePoints">
          </div>
          <div class="col" *ngIf="!isAdmin()">
            {{group.exactScorePoints}}
          </div>
        </div>
        <div class="row">
          <div class="col col-10">
            Points for guessing winner
          </div>
          <div *ngIf="isAdmin()" class="col">
            <input title="Winner points" class="col points" name="winnnerPoints" [(ngModel)]="group.winnerPoints">
          </div>
          <div class="col" *ngIf="!isAdmin()">
            {{group.winnerPoints}}
          </div>
        </div>
        <div class="row">
          <div class="col col-10">
            Points for guessing the goal king
          </div>
          <div *ngIf="isAdmin()" class="col">
            <input title="Goal king points" class="col points" name="goalKingPoints" [(ngModel)]="group.goalKingPoints">
          </div>
          <div class="col" *ngIf="!isAdmin()">
            {{group.goalKingPoints}}
          </div>
        </div>
        <div *ngIf="isAdmin()" class="row">
          <div class="col col-10">
          </div>
          <div class="col">
            <input type="submit" class="btn btn-outline-secondary" value="Change">
          </div>
        </div>
      </div>
    </form>
    <div id="groupInfo">
      <h2>Standings</h2>
      <table class="table table-striped">
        <thead>
        <tr>
          <th scope="col">User</th>
          <th scope="col">Score</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let user of group.standings; index as i">
          <td>{{i+1}}.</td>
          <td>{{user.user}}</td>
          <td>{{user.points}}</td>
        </tbody>
      </table>
    </div>
  </div>
</div>

